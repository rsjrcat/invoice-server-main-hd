<html lang='en'></html>
  <head>
    <meta charset='UTF-8' />
    <title>Invoice - INV-{{formattedInvoiceNumber}}</title>
    <meta name='viewport' content='width=device-width, initial-scale=1.0' />
    <style>
      body {
        margin: 0;
        padding: 20px;
        font-family: Arial, sans-serif;
        background-color: #f5f5f5;
      }
      .container {
        width: 100%;
        max-width: 800px;
        margin: 0 auto;
        background-color: white;
        border-collapse: collapse;
      }
      .header {
        padding: 30px;
        background-color: white;
      }
      .logo-box {
        width: 150px;
        height: 150px;
        background-color: #f0f0f0;
        border-radius: 10px;
        display: flex;
        align-items: center;
        justify-content: center;
        margin-bottom: 20px;
      }
      .logo-circle {
        width: 60px;
        height: 60px;
        background: linear-gradient(45deg, #e53e3e, #ff6b6b);
        border-radius: 50%;
        margin: 0 auto 10px;
        position: relative;
        display: flex;
        align-items: center;
        justify-content: center;
        overflow: hidden;
      }
      .logo-circle span {
        color: white;
        font-weight: bold;
        font-size: 24px;
      }
      .logo-circle img {
        width: 100%;
        height: 100%;
        object-fit: cover;
        border-radius: 50%;
      }
      .company-title {
        color: #e53e3e;
        font-weight: bold;
        font-size: 14px;
      }
      .company-sub {
        color: #666;
        font-size: 10px;
      }
      .invoice-title {
        margin: 0;
        font-size: 36px;
        font-weight: bold;
        color: #e53e3e;
      }
      .invoice-number {
        margin: 5px 0 0 0;
        font-size: 14px;
        color: #666;
      }
      .company-info {
        padding: 0 30px;
      }
      .company-info h2 {
        margin: 0 0 10px 0;
        font-size: 18px;
        font-weight: bold;
        color: #333;
      }
      .company-info p {
        margin: 0;
        font-size: 14px;
        color: #666;
        line-height: 1.4;
      }
      .billto-date {
        padding: 30px;
      }
      .billto {
        margin: 0 0 10px 0;
        font-size: 16px;
        font-weight: bold;
        color: #333;
      }
      .billto-info {
        margin: 0;
        font-size: 14px;
        color: #666;
      }
      .invoice-date {
        margin: 0;
        font-size: 14px;
        color: #666;
        text-align: right;
      }
      .due-date {
        margin: 5px 0 0 0;
        font-size: 14px;
        color: #e53e3e;
        font-weight: bold;
        text-align: right;
      }
      .items-table {
        width: 100%;
        border-collapse: collapse;
        border: 1px solid #ddd;
        margin-bottom: 30px;
      }
      .items-table th {
        padding: 12px 8px;
        text-align: left;
        font-size: 14px;
        border-right: 1px solid #666;
        background-color: #e53e3e;
        color: white;
      }
      .items-table th:last-child,
      .items-table td:last-child {
        border-right: none;
      }
      .items-table td {
        padding: 10px 8px;
        font-size: 14px;
        border-right: 1px solid #ddd;
        border-bottom: 1px solid #ddd;
      }
      .items-table tr:last-child td {
        border-bottom: none;
      }
      .items-table td.text-center {
        text-align: center;
      }
      .items-table td.text-right {
        text-align: right;
      }
      .totals {
        padding: 0 30px 30px 30px;
      }
      .totals-table {
        width: 100%;
        border-collapse: collapse;
      }
      .totals-table td {
        padding: 8px 0;
        text-align: right;
        font-size: 14px;
        border-bottom: 1px solid #ddd;
      }
      .totals-table .total-label {
        padding: 12px 0;
        font-size: 16px;
        font-weight: bold;
        background-color: #fff5f5;
        color: #e53e3e;
      }
      .totals-table .total-value {
        padding: 12px 0 12px 20px;
        font-size: 16px;
        font-weight: bold;
        background-color: #fff5f5;
        color: #e53e3e;
      }
      .payment-notice {
        background-color: #fff5f5;
        border: 1px solid #fed7d7;
        border-radius: 6px;
        padding: 15px;
        margin: 20px 30px;
        text-align: center;
        color: #e53e3e;
        font-weight: bold;
      }
    </style>
  </head>
  <body>
    <table class='container'>
      <!-- Header -->
      <tr>
        <td class='header'>
          <table style='width: 100%; border-collapse: collapse'>
            <tr>
              <td style='width: 200px; vertical-align: top'>
                <div class='logo-box'>
                  <div style='text-align: center'>
                    <div class='logo-circle'>
                      {{#if logoUrl}}
                        <img src='{{logoUrl}}' alt='Company Logo' />
                      {{else}}
                        <span>I</span>
                      {{/if}}
                    </div>
                    <div class='company-title'>{{tenantName}}</div>
                    <div class='company-sub'>{{tenantName2}}</div>
                  </div>
                </div>
              </td>
              <td style='text-align: right; vertical-align: top'>
                <h1 class='invoice-title'>INVOICE</h1>
                <p class='invoice-number'>Invoice# INV-{{formattedInvoiceNumber}}</p>
              </td>
            </tr>
          </table>
        </td>
      </tr>
      <!-- Company Information -->
      <tr>
        <td class='company-info'>
          <h2>{{tenantName}} {{tenantName2}}</h2>
          <p>
            <strong>Company ID :</strong>
            {{companyId}}<br />
            {{addressLine1}},
            {{addressLine2}}<br />
            {{city}}
            {{state}}
            {{zip}}<br />
            India<br />
            <strong>GSTIN:</strong>
            {{gstIn}}
          </p>
        </td>
      </tr>
      <!-- Bill To and Invoice Date -->
      <tr>
        <td class='billto-date'>
          <table style='width: 100%; border-collapse: collapse'>
            <tr>
              <td style='width: 50%; vertical-align: top'>
                <h3 class='billto'>Bill To</h3>
                <p class='billto-info'>{{customerName}}</p>
                <p class='billto-info'>Place Of Supply: {{placeOfSupply}}</p>
              </td>
              <td style='text-align: right; vertical-align: top'>
                <p class='invoice-date'><strong>Invoice Date :</strong>
                  {{invoiceDate}}</p>
                {{#if dueDate}}
                  <p class='due-date'><strong>Due Date :</strong>
                    {{dueDate}}</p>
                {{/if}}
              </td>
            </tr>
          </table>
        </td>
      </tr>
      <!-- Items Table -->
      <tr>
        <td style='padding: 0 30px 30px 30px'>
          <table class='items-table'>
            <thead>
              <tr>
                <th>#</th>
                <th>Item & Description</th>
                <th>HSN/SAC</th>
                <th class='text-center'>Qty</th>
                <th class='text-right'>Price</th>
                <th class='text-right'>Amount</th>
              </tr>
            </thead>
            <tbody>
              {{#each items}}
                <tr>
                  <td>{{index}}</td>
                  <td>{{name}}</td>
                  <td class='text-center'>{{hsnOrSacCode}}</td>
                  <td class='text-center'>{{quantity}}</td>
                  <td class='text-right'>{{unitPrice}}</td>
                  <td class='text-right'>{{amount}}</td>
                </tr>
              {{/each}}
            </tbody>
          </table>
        </td>
      </tr>
      <!-- Totals -->
      <tr>
        <td class='totals'>
          <table class='totals-table'>
            <tr>
              <td style='width: 70%'></td>
              <td style='width: 30%'>
                <table style='width: 100%; border-collapse: collapse'>
                  <tr>
                    <td><strong>Sub Total</strong></td>
                    <td style='padding-left: 20px'><strong>{{subTotal}}</strong></td>
                  </tr>
                  <tr>
                    <td>Tax</td>
                    <td style='padding-left: 20px'>{{taxAmount}}</td>
                  </tr>
                  <tr>
                    <td class='total-label'><strong>Total</strong></td>
                    <td class='total-value'><strong>₹{{total}}</strong></td>
                  </tr>
                </table>
              </td>
            </tr>
          </table>
        </td>
      </tr>
      <!-- Payment Notice -->
      {{#if dueDate}}
        <tr>
          <td>
            <div class='payment-notice'>
              ⚠️ Payment Due: Please ensure payment is made by {{dueDate}} to avoid late fees
            </div>
          </td>
        </tr>
      {{/if}}
    </table>
  </body>
</html>
